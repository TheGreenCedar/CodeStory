// This file has been generated by Specta. DO NOT EDIT.

export type AgentAnswerDto = { answer_id: string; prompt: string; summary: string; sections: AgentResponseSectionDto[]; citations: AgentCitationDto[]; graphs: GraphArtifactDto[]; retrieval_trace: AgentRetrievalTraceDto }

export type AgentAskRequest = { prompt: string; retrieval_profile?: AgentRetrievalProfileSelectionDto; focus_node_id?: NodeId | null; max_results?: number | null; connection?: AgentConnectionSettingsDto }

export type AgentBackend = "codex" | "claude_code"

export type AgentCitationDto = { node_id: NodeId; display_name: string; kind: NodeKind; file_path: string | null; line: number | null; score: number }

export type AgentConnectionSettingsDto = { backend?: AgentBackend; command?: string | null }

export type AgentCustomRetrievalConfigDto = { 
/**
 * Use `0` to mean "infinite" (bounded by `max_nodes`).
 */
depth?: number; direction?: TrailDirection; edge_filter?: EdgeKind[]; node_filter?: NodeKind[]; max_nodes?: number; include_edge_occurrences?: boolean; enable_source_reads?: boolean }

export type AgentResponseBlockDto = { kind: "markdown"; markdown: string } | { kind: "mermaid"; graph_id: string }

export type AgentResponseSectionDto = { id: string; title: string; blocks: AgentResponseBlockDto[] }

export type AgentRetrievalPolicyModeDto = "latency_first" | "completeness_first"

export type AgentRetrievalPresetDto = "architecture" | "callflow" | "inheritance" | "impact"

export type AgentRetrievalProfileSelectionDto = { kind: "auto" } | { kind: "preset"; preset: AgentRetrievalPresetDto } | { kind: "custom"; config: AgentCustomRetrievalConfigDto }

export type AgentRetrievalStepDto = { kind: AgentRetrievalStepKindDto; status: AgentRetrievalStepStatusDto; duration_ms: number; input?: AgentRetrievalSummaryFieldDto[]; output?: AgentRetrievalSummaryFieldDto[]; message?: string | null }

export type AgentRetrievalStepKindDto = "search" | "trail_filter_options" | "neighborhood" | "trail" | "node_details" | "node_occurrences" | "edge_occurrences" | "source_read" | "mermaid_synthesis" | "answer_synthesis" | "local_agent"

export type AgentRetrievalStepStatusDto = "ok" | "error" | "skipped" | "truncated"

export type AgentRetrievalSummaryFieldDto = { key: string; value: string }

export type AgentRetrievalTraceDto = { request_id: string; resolved_profile: AgentRetrievalPresetDto; policy_mode: AgentRetrievalPolicyModeDto; total_latency_ms: number; sla_target_ms?: number | null; sla_missed?: boolean; annotations?: string[]; steps: AgentRetrievalStepDto[] }

export type ApiError = { code: string; message: string }

export type AppEventPayload = { type: "IndexingStarted"; data: { file_count: number } } | { type: "IndexingProgress"; data: { current: number; total: number } } | { type: "IndexingComplete"; data: { duration_ms: number; phase_timings: IndexingPhaseTimings } } | { type: "IndexingFailed"; data: { error: string } } | { type: "StatusUpdate"; data: { message: string } }

export type BookmarkCategoryDto = { id: string; name: string }

export type BookmarkDto = { id: string; category_id: string; node_id: NodeId; comment: string | null; node_label: string; node_kind: NodeKind; file_path: string | null }

export type CanonicalEdgeDto = { id: string; source_edge_ids?: EdgeId[]; source: NodeId; target: NodeId; source_handle: string; target_handle: string; kind: EdgeKind; certainty?: string | null; multiplicity: number; family: CanonicalEdgeFamily; route_kind: CanonicalRouteKind }

export type CanonicalEdgeFamily = "flow" | "hierarchy"

export type CanonicalLayoutDto = { schema_version: number; center_node_id: NodeId; nodes: CanonicalNodeDto[]; edges: CanonicalEdgeDto[] }

export type CanonicalMemberDto = { id: NodeId; label: string; kind: NodeKind; visibility: CanonicalMemberVisibility }

export type CanonicalMemberVisibility = "public" | "protected" | "private" | "default"

export type CanonicalNodeDto = { id: NodeId; kind: NodeKind; label: string; center: boolean; node_style: CanonicalNodeStyle; is_non_indexed: boolean; duplicate_count: number; merged_symbol_ids?: NodeId[]; member_count: number; badge_visible_members?: number | null; badge_total_members?: number | null; members?: CanonicalMemberDto[]; x_rank: number; y_rank: number; width: number; height: number; is_virtual_bundle: boolean }

export type CanonicalNodeStyle = "card" | "pill" | "bundle"

export type CanonicalRouteKind = "direct" | "hierarchy"

export type CreateBookmarkCategoryRequest = { name: string }

export type CreateBookmarkRequest = { category_id: string; node_id: NodeId; comment?: string | null }

export type EdgeId = string

export type EdgeKind = "MEMBER" | "TYPE_USAGE" | "USAGE" | "CALL" | "INHERITANCE" | "OVERRIDE" | "TYPE_ARGUMENT" | "TEMPLATE_SPECIALIZATION" | "INCLUDE" | "IMPORT" | "MACRO_USAGE" | "ANNOTATION_USAGE" | "UNKNOWN"

export type EdgeOccurrencesRequest = { id: EdgeId }

export type GraphArtifactDto = { kind: "uml"; id: string; title: string; graph: GraphResponse } | { kind: "mermaid"; id: string; title: string; diagram: string; mermaid_syntax: string }

export type GraphEdgeDto = { id: EdgeId; source: NodeId; target: NodeId; kind: EdgeKind; confidence?: number | null; 
/**
 * `certain`, `probable`, or `uncertain`.
 */
certainty?: string | null; callsite_identity?: string | null; candidate_targets?: NodeId[] }

export type GraphNodeDto = { id: NodeId; label: string; kind: NodeKind; depth: number; label_policy?: string | null; badge_visible_members?: number | null; badge_total_members?: number | null; merged_symbol_examples?: string[]; file_path?: string | null; qualified_name?: string | null; member_access?: MemberAccess | null }

export type GraphRequest = { center_id: NodeId; 
/**
 * Optional cap to avoid pulling extremely dense neighborhoods into the UI.
 */
max_edges: number | null }

export type GraphResponse = { center_id: NodeId; nodes: GraphNodeDto[]; edges: GraphEdgeDto[]; truncated: boolean; canonical_layout?: CanonicalLayoutDto | null }

export type IndexMode = "Full" | "Incremental"

export type IndexingPhaseTimings = { parse_index_ms: number; projection_flush_ms: number; edge_resolution_ms: number; error_flush_ms: number; cleanup_ms: number; cache_refresh_ms: number | null; unresolved_calls_start: number; unresolved_imports_start: number; resolved_calls: number; resolved_imports: number; unresolved_calls_end: number; unresolved_imports_end: number; resolution_unresolved_counts_ms?: number | null; resolution_calls_ms?: number | null; resolution_imports_ms?: number | null; resolution_cleanup_ms?: number | null; resolved_calls_same_file?: number | null; resolved_calls_same_module?: number | null; resolved_calls_global_unique?: number | null; resolved_calls_semantic?: number | null; resolved_imports_same_file?: number | null; resolved_imports_same_module?: number | null; resolved_imports_global_unique?: number | null; resolved_imports_fuzzy?: number | null; resolved_imports_semantic?: number | null }

export type LayoutDirection = "Horizontal" | "Vertical"

export type ListChildrenSymbolsRequest = { parent_id: NodeId }

export type ListRootSymbolsRequest = { limit: number | null }

export type MemberAccess = "Public" | "Protected" | "Private" | "Default"

export type NodeDetailsDto = { id: NodeId; kind: NodeKind; display_name: string; serialized_name: string; qualified_name: string | null; canonical_id: string | null; file_path: string | null; start_line: number | null; start_col: number | null; end_line: number | null; end_col: number | null; member_access?: MemberAccess | null }

export type NodeDetailsRequest = { id: NodeId }

export type NodeId = string

export type NodeKind = "MODULE" | "NAMESPACE" | "PACKAGE" | "FILE" | "STRUCT" | "CLASS" | "INTERFACE" | "ANNOTATION" | "UNION" | "ENUM" | "TYPEDEF" | "TYPE_PARAMETER" | "BUILTIN_TYPE" | "FUNCTION" | "METHOD" | "MACRO" | "GLOBAL_VARIABLE" | "FIELD" | "VARIABLE" | "CONSTANT" | "ENUM_CONSTANT" | "UNKNOWN"

export type NodeOccurrencesRequest = { id: NodeId }

export type OpenContainingFolderRequest = { path: string }

export type OpenDefinitionRequest = { node_id: NodeId }

export type OpenProjectRequest = { path: string }

export type ProjectSummary = { root: string; stats: StorageStatsDto }

export type ReadFileTextRequest = { path: string }

export type ReadFileTextResponse = { path: string; text: string }

export type SearchHit = { node_id: NodeId; display_name: string; kind: NodeKind; file_path: string | null; line: number | null; score: number }

export type SearchRequest = { query: string }

export type SetUiLayoutRequest = { json: string }

export type SourceOccurrenceDto = { element_id: string; kind: string; file_path: string; start_line: number; start_col: number; end_line: number; end_col: number }

export type StartIndexingRequest = { mode: IndexMode }

export type StorageStatsDto = { node_count: number; edge_count: number; file_count: number; error_count: number }

export type SymbolSummaryDto = { id: NodeId; label: string; kind: NodeKind; file_path: string | null; has_children: boolean }

export type SystemActionResponse = { ok: boolean; message: string }

export type TrailCallerScope = "ProductionOnly" | "IncludeTestsAndBenches"

export type TrailConfigDto = { root_id: NodeId; mode?: TrailMode; target_id?: NodeId | null; 
/**
 * Use `0` to mean "infinite" (bounded by `max_nodes`).
 */
depth: number; direction: TrailDirection; caller_scope?: TrailCallerScope; edge_filter: EdgeKind[]; show_utility_calls?: boolean; node_filter?: NodeKind[]; max_nodes: number; layout_direction?: LayoutDirection }

export type TrailDirection = "Incoming" | "Outgoing" | "Both"

export type TrailFilterOptionsDto = { node_kinds: NodeKind[]; edge_kinds: EdgeKind[] }

export type TrailMode = "Neighborhood" | "AllReferenced" | "AllReferencing" | "ToTargetSymbol"

export type UpdateBookmarkCategoryRequest = { name: string }

export type UpdateBookmarkRequest = { category_id?: string | null; comment?: string | null }

export type WriteFileResponse = { bytes_written: number }

export type WriteFileTextRequest = { path: string; text: string }

